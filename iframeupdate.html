  <!DOCTYPE HTML><html><head>
  <script src='https://cdn.staticfile.org/jquery/1.10.2/jquery.min.js'></script>
  <title>DAOLEDClockV1.0</title><meta name='viewport' content='width=device-width, initial-scale=1' charset='UTF-8'>
  <script type='text/javascript'>
  function submit2() {      $.ajax({ type: 'GET', url: '/get', data: {reboot:1 }, dataType: 'html', success: function(result) {   alert('已重启！');}     });   };
  function submit3() {      $.ajax({ type: 'GET', url: '/regclock', data: {clockname: $('#clockname').val()}, dataType: 'html', success: function(result) {   alert('已注册！');}     });   };
  </script></head>
  <body bgcolor=lightyellow >
  <table border='1' bgcolor=lightblue><tr><td border='0' colspan='4'  align=center><h1>DaClock设置</h1></td>
  <tr><td><form method='POST' action='configwifi'><label class='input'><span>WiFi SSID</span></td><td><input type='text' name='ssid' value=''></label></td></tr>
<tr><td><label><span>WiFi PASS</span></td><td><input type='text'  name='pass'></label></td></tr><tr><td><input  type='submit' name='submit' value='Submie'></td></tr></form>
<tr><td><a href='http://82.157.26.5' target='view_frame'>更多配置</a></td>
  <td><input type='submit' value='重启时钟'/ onclick='submit2()'></input></td></tr>
   <tr><td>时钟昵称:</td><td><input id='clockname' type='text' value=''></td></tr>
  <td><input type='submit' value='注册时钟'/ onclick='submit3()'></input></td></tr>
  <tr><td>更新固件：</td>
  <td><form method='POST' action='#' enctype='multipart/form-data' id='upload_form'>
  <input type='file' name='update'>
  <input type='submit' value='Update'>
  </form></br>
  <div id='prg'>progress: 0%</div><td></tr>
  <tr><td colspan=3><label>设置说明：<br/></label></td></tr></table>
  </body>
  <script>
  $('form').submit(function(e){
  e.preventDefault();
  var form = $('#upload_form')[0];
  var data = new FormData(form);
   $.ajax({
  url: '/update',
  type: 'POST',
  data: data,
  contentType: false,
  processData:false,
  xhr: function() {
  var xhr = new window.XMLHttpRequest();
  xhr.upload.addEventListener('progress', function(evt) {
  if (evt.lengthComputable) {
  var per = evt.loaded / evt.total;
  $('#prg').html('progress: ' + Math.round(per*100) + '%');
  }
  }, false);
  return xhr;
  },
  success:function(d, s) {
  console.log('success!')
  },
  error: function (a, b, c) {
  }
  });
  });
  </script>;
